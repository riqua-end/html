<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>10_04timeinterval</title>
</head>
<body>

<h3>텍스트가 자동 회전하며, 마우스로 클릭하면 중단합니다.</h3>
<hr>

<div>
	<span id="div" style="background-color:yellow">자동 회전하는 텍스트입니다.</span>
</div>

<script>
let div = document.getElementById("div");
let timerID = setInterval("doRotate()", 200); // 200밀리초 주기로 doRotate() 호출
//DOM객체의 이벤트리스너속성을 이용하여 이벤트 처리
div.onclick = function (e) { // 마우스 클릭 이벤트 리스너
	clearInterval(timerID); // 타이머 해제. 문자열 회전 중단
}

function doRotate() {
	let str = div.innerHTML;
	let firstChar = str.substr(0, 1);
	//문자열중 첫번째 문자열을 반환 substr(start,length)로 start색인번호부터 length만큼 반환
	let remains = str.substr(1, str.length-1);
	//1번부터 나머지 모두 반환
	//js에는 substring(start,end)메서드도 있음
	str = remains + firstChar;
	div.innerHTML = str; 
}
</script>
</body>
</html>